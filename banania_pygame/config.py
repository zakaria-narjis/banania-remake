from dataclasses import dataclass
from enum import IntEnum, auto

JOYSTICK_SIZE = 0.4  # relative to smaller screen dimension
UPS = 60  # updates per second
NUM_RESOURCES = 197
IMAGE_DIR = "assets/images/"
SOUND_DIR = "assets/sounds/"
LEVELS_PATH = "assets/levels/levels.json"
SCREEN_WIDTH = 537
SCREEN_HEIGHT = 408
LEV_OFFSET_X = 16
LEV_OFFSET_Y = 79
LEV_DIMENSION_X = 21
LEV_DIMENSION_Y = 13
MENU_HEIGHT = 20
TILE_SIZE = 24
DEFAULT_VOLUME = 0.7

INTRO_DURATION = 3.0  # seconds
LEV_START_DELAY = 0.5  # seconds
LEV_STOP_DELAY = 0.5  # seconds
ANIMATION_DURATION = round(8*UPS/60)


# --- Directions ---
class Direction(IntEnum):
    NONE = -1
    UP = 0
    LEFT = 1
    DOWN = 2
    RIGHT = 3


# --- Key Codes (pygame key constants could replace these later) ---
class KeyCode(IntEnum):
    ENTER = 13
    ESC = 27
    LEFT = 37
    UP = 38
    RIGHT = 39
    DOWN = 40


# --- Render Modes ---
class RenderMode(IntEnum):
    FULL = 0
    TOP = 1
    BOTTOM = 2
    BOTTOM_BORDER = 3


# --- Dialog Box Types ---
class DialogBox(IntEnum):
    CONFIRM = 0
    SAVE = 1
    LOAD = 2
    CHPASS = 3
    LOADLVL = 4
    CHARTS = 5


# --- Error Codes ---
class ErrorCode(IntEnum):
    SUCCESS = 0
    EXISTS = 1
    NOSAVE = 2
    WRONGPW = 3
    NOTFOUND = 4
    EMPTYNAME = 5


# --- Images ---
class ImageID(IntEnum):
    BACKGROUND = 0
    TITLESCREEN = 1
    BANANA_PEEL = 2
    KEY_1 = 3
    KEY_2 = 4
    KEY_3 = 5
    KEY_4 = 6
    KEY_5 = 7
    KEY_6 = 8
    FOOTSTEPS = 9
    LADDER = 10
    DIGIT_0 = 11
    DIGIT_1 = 12
    DIGIT_2 = 13
    DIGIT_3 = 14
    DIGIT_4 = 15
    DIGIT_5 = 16
    DIGIT_6 = 17
    DIGIT_7 = 18
    DIGIT_8 = 19
    DIGIT_9 = 20
    DIGIT_EMPTY = 21
    BTN_BERTI_UP = 22
    BTN_PREV_UP = 23
    BTN_NEXT_UP = 24
    BTN_BERTI_DOWN = 25
    BTN_PREV_DOWN = 26
    BTN_NEXT_DOWN = 27
    BTN_BERTI_BLINK_UP = 28
    BTN_PREV_DISABLED = 29
    BTN_NEXT_DISABLED = 30
    BLOCK_PINNED = 31
    BLOCK_LIGHT = 32
    BLOCK_HEAVY = 33
    BLOCK_DOOR_1 = 34 
    BLOCK_DOOR_2 = 35 
    BLOCK_DOOR_3 = 36 
    BLOCK_DOOR_4 = 37 
    BLOCK_DOOR_5 = 38 
    BLOCK_DOOR_6 = 39 
    NONE = 40
    DOOR_1_CLOSED = 41
    DOOR_1_OPENING = 42
    DOOR_1_FADING = 43
    DOOR_2_CLOSED = 44
    DOOR_2_OPENING = 45
    DOOR_2_FADING = 46
    DOOR_3_CLOSED = 47
    DOOR_3_OPENING = 48
    DOOR_3_FADING = 49
    DOOR_4_CLOSED = 50
    DOOR_4_OPENING = 51
    DOOR_4_FADING = 52
    DOOR_5_CLOSED = 53
    DOOR_5_OPENING = 54
    DOOR_5_FADING = 55
    DOOR_6_CLOSED = 56
    DOOR_6_OPENING = 57
    DOOR_6_FADING = 58
    BERTI_IDLE = 59
    BERTI_BLINKING = 60
    BERTI_CELEBRATING = 61
    BERTI_DEAD = 62
    BERTI_WALK_LEFT_0 = 63
    BERTI_WALK_LEFT_1 = 64
    BERTI_WALK_LEFT_2 = 65
    BERTI_WALK_LEFT_3 = 66
    BERTI_WALK_RIGHT_0 = 67
    BERTI_WALK_RIGHT_1 = 68
    BERTI_WALK_RIGHT_2 = 69
    BERTI_WALK_RIGHT_3 = 70
    BERTI_WALK_UP_0 = 71
    BERTI_WALK_UP_1 = 72
    BERTI_WALK_UP_2 = 73
    BERTI_WALK_UP_3 = 74
    BERTI_WALK_DOWN_0 = 75
    BERTI_WALK_DOWN_1 = 76
    BERTI_WALK_DOWN_2 = 77
    BERTI_WALK_DOWN_3 = 78
    BERTI_PUSH_LEFT_0 = 79
    BERTI_PUSH_LEFT_1 = 80
    BERTI_PUSH_LEFT_2 = 81
    BERTI_PUSH_LEFT_3 = 82
    BERTI_PUSH_RIGHT_0 = 83
    BERTI_PUSH_RIGHT_1 = 84
    BERTI_PUSH_RIGHT_2 = 85
    BERTI_PUSH_RIGHT_3 = 86
    BERTI_PUSH_UP_0 = 87
    BERTI_PUSH_UP_1 = 88
    BERTI_PUSH_UP_2 = 89
    BERTI_PUSH_UP_3 = 90
    BERTI_PUSH_DOWN_0 = 91
    BERTI_PUSH_DOWN_1 = 92
    BERTI_PUSH_DOWN_2 = 93
    BERTI_PUSH_DOWN_3 = 94
    BERTI_WALK_LEFT_U_0 = 95  
    BERTI_WALK_LEFT_U_1 = 96  
    BERTI_WALK_LEFT_U_2 = 97  
    BERTI_WALK_LEFT_U_3 = 98  
    BERTI_WALK_RIGHT_U_0 = 99  
    BERTI_WALK_RIGHT_U_1 = 100 
    BERTI_WALK_RIGHT_U_2 = 101 
    BERTI_WALK_RIGHT_U_3 = 102 
    BERTI_WALK_UP_U_0 = 103 
    BERTI_WALK_UP_U_1 = 104 
    BERTI_WALK_UP_U_2 = 105 
    BERTI_WALK_UP_U_3 = 106 
    BERTI_WALK_DOWN_U_0 = 107 
    BERTI_WALK_DOWN_U_1 = 108 
    BERTI_WALK_DOWN_U_2 = 109 
    BERTI_WALK_DOWN_U_3 = 110 
    PURPMON_STUCK_0 = 111
    PURPMON_STUCK_1 = 112
    PURPMON_STUCK_2 = 113
    PURPMON_STUCK_3 = 114
    PURPMON_WALK_LEFT_0 = 115
    PURPMON_WALK_LEFT_1 = 116
    PURPMON_WALK_LEFT_2 = 117
    PURPMON_WALK_LEFT_3 = 118
    PURPMON_WALK_RIGHT_0 = 119
    PURPMON_WALK_RIGHT_1 = 120
    PURPMON_WALK_RIGHT_2 = 121
    PURPMON_WALK_RIGHT_3 = 122
    PURPMON_WALK_UP_0 = 123
    PURPMON_WALK_UP_1 = 124
    PURPMON_WALK_UP_2 = 125
    PURPMON_WALK_UP_3 = 126
    PURPMON_WALK_DOWN_0 = 127
    PURPMON_WALK_DOWN_1 = 128
    PURPMON_WALK_DOWN_2 = 129
    PURPMON_WALK_DOWN_3 = 130
    PURPMON_PUSH_LEFT_0 = 131
    PURPMON_PUSH_LEFT_1 = 132
    PURPMON_PUSH_LEFT_2 = 133
    PURPMON_PUSH_LEFT_3 = 134
    PURPMON_PUSH_RIGHT_0 = 135
    PURPMON_PUSH_RIGHT_1 = 136
    PURPMON_PUSH_RIGHT_2 = 137
    PURPMON_PUSH_RIGHT_3 = 138
    PURPMON_PUSH_UP_0 = 139
    PURPMON_PUSH_UP_1 = 140
    PURPMON_PUSH_UP_2 = 141
    PURPMON_PUSH_UP_3 = 142
    PURPMON_PUSH_DOWN_0 = 143
    PURPMON_PUSH_DOWN_1 = 144
    PURPMON_PUSH_DOWN_2 = 145
    PURPMON_PUSH_DOWN_3 = 146
    GREENMON_STUCK_0 = 147
    GREENMON_STUCK_1 = 148
    GREENMON_STUCK_2 = 149
    GREENMON_STUCK_3 = 150
    GREENMON_WALK_LEFT_0 = 151
    GREENMON_WALK_LEFT_1 = 152
    GREENMON_WALK_LEFT_2 = 153
    GREENMON_WALK_LEFT_3 = 154
    GREENMON_WALK_RIGHT_0 = 155
    GREENMON_WALK_RIGHT_1 = 156
    GREENMON_WALK_RIGHT_2 = 157
    GREENMON_WALK_RIGHT_3 = 158
    GREENMON_WALK_UP_0 = 159
    GREENMON_WALK_UP_1 = 160
    GREENMON_WALK_UP_2 = 161
    GREENMON_WALK_UP_3 = 162
    GREENMON_WALK_DOWN_0 = 163
    GREENMON_WALK_DOWN_1 = 164
    GREENMON_WALK_DOWN_2 = 165
    GREENMON_WALK_DOWN_3 = 166
    ARGL = 167
    WOW = 168
    YEAH = 169
    ENDSCREEN = 170
    CHECKBOX_CHECKED = 171
    CHECKBOX_UNCHECKED = 172
    DIALOGBOX_CONFIRM = 173
    DIALOGBOX_SAVELOAD = 174
    DIALOGBOX_LOADLVL = 175
    DIALOGBOX_CHARTS = 176
    BTN_CANCEL_UP = 177
    BTN_CANCEL_DOWN = 178
    BTN_NO_UP = 179
    BTN_NO_DOWN = 180
    BTN_OK_UP = 181
    BTN_OK_DOWN = 182
    BTN_YES_UP = 183
    BTN_YES_DOWN = 184


IMG_DIGIT_LOOKUP = [
    ImageID.DIGIT_0,
    ImageID.DIGIT_1,
    ImageID.DIGIT_2,
    ImageID.DIGIT_3,
    ImageID.DIGIT_4,
    ImageID.DIGIT_5,
    ImageID.DIGIT_6,
    ImageID.DIGIT_7,
    ImageID.DIGIT_8,
    ImageID.DIGIT_9,
]


# --- Entities ---
class Entity(IntEnum):
    DUMMY = -1
    EMPTY = 0
    PLAYER_BERTI = 1
    AUTO_BERTI = 2
    PINNED_BLOCK = 3
    BANANA_PEEL = 4
    LIGHT_BLOCK = 5
    HEAVY_BLOCK = 6
    PURPLE_MONSTER = 7
    UNUSED_1 = 8
    UNUSED_2 = 9
    GREEN_MONSTER = 10
    UNUSED_3 = 11
    UNUSED_4 = 12
    KEY_1 = 13
    KEY_2 = 14
    KEY_3 = 15
    KEY_4 = 16
    KEY_5 = 17
    KEY_6 = 18
    DOOR_1 = 19
    DOOR_2 = 20
    DOOR_3 = 21
    DOOR_4 = 22
    DOOR_5 = 23
    DOOR_6 = 24
